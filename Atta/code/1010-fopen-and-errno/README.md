# fopen() 和 errno

## v1

- 代码文件：
  - [main.c](./v1/main.c)

- 说明：
  - fopen() 函数的基本使用。
  - 执行：`./main`

- 知识点一：
  - `fopen(3)`
  - `fprintf(3)`
  - `perror(3)`
  - `strerror(3)`
  - `errno`
  - `__FILE__`
  - `__FUNCTION__`
  - `__LINE__`

- 知识点二：
  - `fopen(3)` 返回一个 `FILE` 类型结构体的指针，该结构体位于堆上。
    - 如果一个函数返回一个指针，且该函数有一个相应的逆操作函数（例如 fopen(3) 对应 fclose(3)）,这
      说明该函数八成是使用内存申请，而其响应的逆操作函数就是在释放内存，所以该函数返回的指针指向
      的内容（结构体）是放在堆上的，申请、释放内存是对堆的操作。若没有一个逆操作函数，其返回值也
      不一定不在堆上，有可能在堆上有可能在静态区，需要自己写代码去验证。
  - 如果 fopen(3) 打开的文件不存在，打开模式使用的是 `w`、`w+`、`a`、`a+` 之一，那么 fopen(3) 会在
    权限允许的情况下会创建新文件，那该文件的权限会依据一个公式：`0666 & !umask`。

- 资料：
  - _(LHQ 25.1 25.2 25.3 25.4)_

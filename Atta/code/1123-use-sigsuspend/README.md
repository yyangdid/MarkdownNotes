# sigsuspend(2) 函数的使用

## v1

- 代码文件：
  - [main.c](./v1/main.c)

- 说明：
  - 修改自 [sigprocmask(2) 函数的使用 v4](../1122-use-sigprocmask/README.md#v4)
  - 在打印一行期间不要响应信号, 打印完一行后停止打印, 等待信号, 信号来了继续打印一行.
  - 程序运行时有非原子操作带来的 bug, 看视频, 修改为 [v2](#v2).

- 知识点
  - `pause(2)`

- 资料:
  - _(LHQ 30.17)_

## v2

- 代码文件：
  - [main.c](./v2/main.c)

- 说明：
  - 修改自 [v1](#v1)
  - 使用原子操作.
  - 在打印一行期间接收到多个信号时, 下一行开始时只响应一个.

- 知识点
  - `sigsuspend(2)`

- 资料:
  - _(LHQ 30.17)_

## v3

- 代码文件：
  - [main.c](./v3/main.c)

- 说明：
  - 修改自 [v2](#v2)
  - 加入实时信号特性.
  - 使用一个终端运行程序, 使用另一个终端向该进程发送 40 号实时信号(kill -40 程序 PID)
  - 在打印一行期间接收到多个信号时, 下一行开始时挨个响应实时信号.

- 知识点
  - `sigsuspend(2)`

- 资料:
  - _(LHQ 30.20)_
